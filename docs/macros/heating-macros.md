# Отопление

- [Отопление](#отопление)
  - [Базис](#базис)
    - [Тепло-генератор](#тепло-генератор)
      - [Электричество -\> воздух](#электричество---воздух)
      - [Электричество -\> вода -\> воздух](#электричество---вода---воздух)
      - [Твердое топливо -\> вода -\> воздух](#твердое-топливо---вода---воздух)
      - [Жидкое топливо -\> вода -\> воздух](#жидкое-топливо---вода---воздух)
      - [Электричество + (тепло/холод от воздуха, земли, воды) -\> вода -\> воздух](#электричество--теплохолод-от-воздуха-земли-воды---вода---воздух)
      - [Управление тепло-генератором](#управление-тепло-генератором)
    - [Циркуляционный насос](#циркуляционный-насос)
      - [Управление циркуляционным насосом](#управление-циркуляционным-насосом)
    - [Прямой или смесительный контур](#прямой-или-смесительный-контур)
      - [Управление контуром](#управление-контуром)
    - [Отопительный прибор](#отопительный-прибор)
      - [Управление отопительным прибором](#управление-отопительным-прибором)
    - [Подпитка](#подпитка)
  - [Автоматизация](#автоматизация)
    - [Обзор](#обзор)
    - [Запрос тепла](#запрос-тепла)
      - [Входящих аргументов:](#входящих-аргументов)
      - [Исходящих аргументов:](#исходящих-аргументов)
      - [Логика работы:](#логика-работы)
      - [Например (Бойлер):](#например-бойлер)
      - [Например (Радиаторы):](#например-радиаторы)
      - [Например (Теплый пол):](#например-теплый-пол)
    - [Транспортировка тепла](#транспортировка-тепла)
    - [Генерация тепла](#генерация-тепла)

## Базис

### Тепло-генератор

#### Электричество -> воздух

Рассматриваются устройства, без наличии автоматики на борту.

- Различные виды конвекторов
- Различные виды калориферов
- Различные виды инфракрасных обогревателей

#### Электричество -> вода -> воздух

Рассматриваются устройства с наличием автоматики на борту.

- Электрический котел

#### Твердое топливо -> вода -> воздух

Рассматриваются устройства с наличием автоматики на борту.

- Твердотопливный котел (дрова)
- Твердотопливный котел (уголь)
- Твердотопливный котел (пилеты)

#### Жидкое топливо -> вода -> воздух

Рассматриваются устройства с наличием автоматики на борту.

- Газовый котел
- Дизельный котел

#### Электричество + (тепло/холод от воздуха, земли, воды) -> вода -> воздух

Рассматриваются устройства с наличием автоматики на борту.

- Воздушный тепловой насос
- Грунтовый тепловой насос (вода-вода, земля-земля)
- Солнечный коллектор

#### Управление тепло-генератором

- Релейное, через вкл/выкл питания
- Релейное, через замыкания клеммы термостата
- Электронное, через установку требуемой температуры подачи
- Комбинированный релейное через замыкание клеммы термостата + установки требуемой температуры подачи
- Каскадное, включение котлов по в заданном порядке, в зависимости от температуры обратки (если температура ниже расчетной то запускается второй котел и так далее). В этом методе управления, могут выступать дополнительные косвенные факторы (температура на улице, температура в помещениях, температура (подачи, обратки, расход теплоносителя) и количество активированных котлов, импульсный счетчик тепла )
- Резервирование, включение в замен основного котла/котлов резервного, при достижении определенных условий, релейным и/или электронным способом.

### Циркуляционный насос

Входит в состав прямого или смесительного контура.

Входит в состав электрического котла, возможно сторонне управление насосом электрического котла если невозможно использовать релейно-электронный способ.

Входит в состав схемы управления твердотопливным котлом, так же в схему работы твердотопливного котла входит тепло-аккумулятор от 1000 литров, так как в 1000 литрах, между 40 и 80 градусов, всего 40 кВт. А если дом тратит 6 кВт/час, то аккумулятор проработает 6.66 часа, до следующей зарядки, в целом не плохо для пилетного котла, и не очень удобно для угольно дровяного котла, и по этому лучше подбирать котел с минимальной мощностью 3 и ниже кВт, чтобы не ставить тепло аккумулятор. Чтобы за час зарядить 1000 литров, нужен котел с макс мощностью 46 кВт/час. Но выгодно ставить котел [8-31 кВт](http://biodomrussia.com/biodom27c5/) и загружать аккумулятор медленнее, тем самым растягивая такты работы котла в оптимальном режиме.

#### Управление циркуляционным насосом

- Релейное, через вкл/выкл питания, тут тоже может быть переменный расход, но насос терпит работу на закрытую задвижку, так как мощность насоса маленькая.
- Частотный преобразователь, только для больших насосов, с переменным расходом.

### Прямой или смесительный контур

- Группа радиаторов (смесительный)
- Группа труб теплого пола (смесительный)
- Бойлер косвенного нагрева (прямой)
- Калорифер вентиляции (смесительный)
- Бассейн (прямой со стороны котла) + (прямой со стороны бассейна)
- Тепловой аккумулятор (прямой)
- Солнечный аккумулятор (прямой со стороны котла) + (прямой со стороны солнечного коллектора)
- И так далее ...

#### Управление контуром

- Аналоговое, через подачу от 0 до 10 вольт на устройство, что соответствует проценту между крайними положениями.
- Механическое, через трехходовой термостатический клапан.
- Механическое, через фиксированное положение трехходового крана.

### Отопительный прибор

- Один радиатор (управление на радиаторе или на коллекторе)
- Одна труба теплого пола или стены (управление на коллекторе)
- Одна труба снеготаяния (управление на коллекторе)
- Фанкойл (тепловая завеса, калорифер с вентилятором)
- Водяной конвектор встроенный п вол с вентилятором или без
- И так далее ...

#### Управление отопительным прибором

- Механическое, через фиксированное положение крана
- Электромеханическое, через термостатический сервопривод
- Аналоговое, через подачу от 0 до 10 вольт на сервопривод (термостатический или другого исполнения), что соответствует проценту между крайними положениями
- Релейное, через подачу питания (на вентилятор, клемму термостата)

### Подпитка

Система отслеживающая давление в системе отопления для:

- Уведомлении о падении давления
- Подпитка в автоматическом режиме
- Мониторинг за давлением

## Автоматизация

### Обзор

В системах отопления как правило присутствуют действующие акторы в виде приборов запрашивающих тепло, генерирующих тепло и доставляющих тепло в нужном объеме.

В совсем простых системах, могут присутствовать только запрашивающие и генерирующие тепло устройства, и как правило это системы где тепло передается в виде электричества.

Запрашивают тепло как правило приборы, потребляющие тепло для каких либо нужд, нагрев воздуха по средством радиаторов, нагрев поверхностей за счет труб (теплого пола, снеготаяния), приготовление горячей воды, нагрев бассейна, подогрев воздуха в вентиляционной установке.

В системах где тепло передается не по средством электричества, применяется некая среда (гликоль, вода, другие жидкости) которая перемещает тепло из одного места в другое, и устройства помогающие перемещать саму среду (насосы), а так же присутствуют устройства, которые дозируют потребление тепла (смесительные узлы) которые ограничивают передачу тепла от генератора к каждому потребителю путем подмешивания более горячего носителя в контур с остывшим носителем.

Производят тепло, устройства генерации тепла, они бывают разных видом и устройств, но единственная их задача это нагревать среду которая постоянно перемещается по средством насосов по всей сети отопления.

### Запрос тепла

С точки зрения автоматики, запрос тепла состоит из:

#### Входящих аргументов:

- Тип отопительного прибора (не выбран, радиатор, теплый пол, снеготаяние, бойлер, бассейн).
  - Помогает выбрать max/min температуру на подающей линии. Если выбрано устройство, то min/max температуру нельзя редактировать.

- Максимальное значение запроса на температуру подающей линии.
  - Для теплого пола 50, для радиаторов 70, для снеготаяния 20, для бойлера 75
  - Выше этой температуры будет невозможно запросить. Без условный верхний предел 75 градусов.
- Минимальная значение запроса на температуру подающей линии.
  - Для теплого пола 30, для радиаторов 30, для снеготаяния 5, для бойлера 60
  - Ниже это температуры нельзя будет запросить. Безусловный нижний предел это 25 градусов, если не выбран отопительный прибор.
- Минимальный расход в петле, по умолчанию 25%.
  - Можно задать в диапазоне от 100% до 25%.
  - При значении 100%, ограничение по расходу отключается, и расход всегда 100%.
- Минимальный запрос температуры между max и min значением запроса на температуры подающей линии, по умолчанию 25%.
  - Можно задать в диапазоне от 100% до 25%.
  - При значении 100%, ограничение по температуре отключается, и запрос температуры подающей линии всегда имеет максимальное значение.

- Требуемая/Целевая температура нагреваемой среды.
  - Воздух, поверхность пола, брусчатки, бойлера, бассейна.
  - Желаемое для пользователя значение.

- Температура с которой начинается уменьшение мощности прибора вплоть до правой стороны гистерезиса. По умолчанию это целевая температура.
  - Не может быть меньше левого гистерезиса и больше правого.
  - Ограничение по уменьшению запроса тепла, ограничиваются настройками:
    - Минимальный расход в петле.
    - Минимальный запрос температуры между max и min значением запроса на температуры подающей линии.
  - Например, требуемая температура 28, гистерезис слева 2 (26), гистерезис справа 1 (29), температура с которой начинается уменьшение мощности -1.5 от правого гистерезиса 29 (27.5), на промежутке от 26 до 27.5 запрос тепла в процентном отношении 100%, при достижении 27.5, начинается пропорциональное снижение запроса тепла, а при достижении 29 градусов, запрос тепла 0% и петля отключает запрос тепла.
  - Расстояние между 27.5 и 29 принимается за 100%.
  - По мере движения от 27.5 к 29, будет уменьшаться значение в процентах от 100% до 0%.
  - Значение процентов изменяет:
    - Значение запроса на температуру подающей линии.
    - Расход через петлю.
  - При достижении минимальных значений указанных в настройках, запрос тепла с петли снимается. Хотя расход через петлю может остаться если указано минимальное ограничение расхода больше 0%, аналогично и с запросом температуры подачи.

- Левая часть гистерезиса не более 10 единиц.
  - Значение после которого включается запрос тепла.
  - Запрос тепла включается на максимальном значении запроса тепла.
- Правая часть гистерезиса не более 5 единиц.
  - Значение после которого выключается запрос тепла.

- Датчики температуры нагреваемой среды, от 1 до 100 значений температуры.
- (default AVG) Правила для вычисления температуры нагреваемой среды, брать MAX максимальную, MIN минимальную, AVG среднюю.

- Логическое значение, включен ли насос на насосно-смесительном узле, если насос не включен, то можно отключить питание всех приводов, переведя их в нормальное положение.

#### Исходящих аргументов:

- Логического поля, которое принимает два состояния, греть и не греть.
- Числовое значение запроса на температуру подающей линии.
- Числовое значение от 0 до 100% мощности отопительного прибора.

#### Логика работы:

Расстояние между максимальным и минимальным значением запроса тепла, это 100%, максимум 100%, а минимум 0%.

Если значение ниже левого гистерезиса, то выставляется 100% запроса тепла.

По мере роста температуры измеряемой поверхности, уменьшается в процентном отношении температура запроса подающей линии, начиная с температуры с которой допустимо уменьшение мощности.

#### Например (Бойлер):

Параллельная загрузка бойлера, температура воды 35 градусов, целевая температура 60, левый гистерезис 10, правый 5.

То есть от 60 до 65 градусов это 100%, и это значение в процентах, подставляется в расчет запроса на температуру подающей линии.

Как только температура падает ниже левого гистерезиса выставляется 100% запрос на температуру, и это 75 градусов, и начинается нагрев, по мере приближении в правому гистерезису начиная с целевой температуры, запрос в процентном отношении падает, и как только достигнет правого гистерезиса упадет до 0% и запрос на тепло прекратится.

#### Например (Радиаторы):

Нагрев воздуха радиаторами, температура воздуха 20 градусов, целевая температура 25, левый гистерезис 2, правый 1.

То есть от 24 до 25 градусов это 100%, и это значение в процентах, подставляется в расчет запроса на температуру подающей линии.

Как только температура падает ниже левого гистерезиса выставляется 100% запрос на температуру, и это 50 градусов, и начинается нагрев, по мере приближении в правому гистерезису начиная с целевой температуры, запрос в процентном отношении падает, и как только достигнет правого гистерезиса упадет до 0% и запрос на тепло прекратится.

#### Например (Теплый пол):

Нагрев поверхности пола трубами, температура пола 25 градусов, целевая температура 28, левый гистерезис 2, правый 1.

То есть от 28 до 29 градусов это 100%, и это значение в процентах, подставляется в расчет запроса на температуру подающей линии.

Как только температура падает ниже левого гистерезиса выставляется 100% запрос на температуру, и это 45 градусов, и начинается нагрев, по мере приближении в правому гистерезису начиная с целевой температуры, запрос в процентном отношении падает, и как только достигнет правого гистерезиса упадет до 0% и запрос на тепло прекратится.

### Транспортировка тепла

Как только появился запрос на тепло, в первую очередь активизируется система перемещения тепло-носителя, и только спустя заданное время, запускается генерация тепла.

С точки зрения автоматики, это означает, что нужно подать питание через реле на насосы тех контуров, которые участвуют в нагреве той среды, за которую отвечает запросивший тепло термостат, далее закрываются все остальные приводы на всех петлях кроме тех которые которые требуют нагрева, для того, чтобы не перегревать те среды которые не нуждаются в нагреве.

Следующим шагом, будет установка на смесительных узлах требуемой температуры подачи, и они сами должны решить на какой угол повернуть смеситель, чтобы достичь заданной температуры, а поймут они это из температуры подачи и обратки, которую измеряют датчики установленные на смесительном узле.

### Генерация тепла

Спустя суммарную задержку ото всех узлов транспортной сети будет запущен процесс генерации тепла.

С точки зрения автоматики, это замыкания контактов термостата на нужных котлах, выставление базовой температуры нагрева, которая берется из настроек, и в процессе нагрева регулировка температуры подачи, если разница между подачей и обраткой не превышает 5 градусов, температура подачи увеличивается, если превышает, то уменьшается,

